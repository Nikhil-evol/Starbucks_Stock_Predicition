<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Stock Predictor</title>
    <link rel="stylesheet" href="/static/styles.css">
  </head>
  <body>
    <div class="container">
      <div class="header">
        <div class="logo">
          <!-- simple stock svg -->
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 17h3l3-5 4 6 4-10 4 9" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
        <div>
          <div class="title">AI Stock Price Forecasting</div>
          <div class="subtitle">Enter how many future days you'd like to forecast</div>
        </div>
      </div>

      <!-- Intro / hero that explains the model in a creative way -->
      <section class="intro">
        <h2 class="hero">Meet the oracle for Stock Prices ✨</h2>
        <p class="lead">A smart, lightweight LSTM model trained on past market trends — it listens to the patterns in closing prices and predicts the next move with a natural flow.</p>
        <button id="startBtn" class="start">Open prediction box</button>
      </section>

      <div class="prediction-panel" id="predictionPanel" aria-hidden="true">
      <form method="post" action="/predict_form">
        <div class="form-row">
          <select name="company" id="company" style="padding:12px 14px; border-radius:10px; background:transparent; color:inherit; border:1px solid rgba(255,255,255,0.04)">
            {% for c in companies %}
              <option value="{{ c }}" {% if c == company %}selected{% endif %}>{{ c }}</option>
            {% endfor %}
          </select>
          <input type="number" id="days" name="days" min="1" max="365" value="0" required>
          <button type="submit">Predict</button>
        </div>
      </form>
      </div>

      {% if error %}
        <div class="result"><strong>Error:</strong> {{ error }}</div>
      {% endif %}

      {% if predictions %}
        <div class="result">
          <h3>Predicted Prices for {{ company }}</h3>
          <ol>
            {% for p in predictions %}
              <li>{{ p }}$</li>
            {% endfor %}
          </ol>
        </div>
      {% endif %}

      <div class="footer">Model trained on historical data of the company. Predictions are estimates, not financial advice.</div>
    </div>
  

    <script>
      // Reveal prediction panel when start button is clicked
      const startBtn = document.getElementById('startBtn');
      const panel = document.getElementById('predictionPanel');
      if (startBtn && panel) {
        startBtn.addEventListener('click', (e) => {
          e.preventDefault();
          panel.classList.add('visible');
          panel.setAttribute('aria-hidden','false');
          startBtn.style.opacity = '0';
          setTimeout(()=> startBtn.style.display='none', 400);
        });
      }
      const cursor = document.getElementById('cursor');
      if (cursor) {
        document.addEventListener('mousemove', (e) => {
          cursor.style.transform = `translate3d(${e.clientX - 10}px, ${e.clientY - 10}px, 0)`;
        });
        // subtle hover effect on interactive elements
        const interactive = document.querySelectorAll('button, input, select');
        interactive.forEach(el => {
          el.addEventListener('mouseenter', ()=> cursor.classList.add('grow'));
          el.addEventListener('mouseleave', ()=> cursor.classList.remove('grow'));
        });
      }
    </script>
  </body>
</html>